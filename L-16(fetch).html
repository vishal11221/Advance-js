<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Api</title>
</head>

<body>

    <form id="myform">
        Name:- <input type="text" id="nametext">
        <br>
        <br>
        Course:-<input type="text" id="coursetext">
        <br>
        <br>
        City:- <input type="text" id="citytext">
        <input type="submit" id="saveform">

    </form>


    <script>
        // fetch("json/studentdata.json")
        //     .then((response) => response.json())
        //     .then((data) => {
        //         console.log(data);

        //         for (var x in data) {
        //             document.write(`${data[x].name} - ${data[x].city} - ${data[x].age} <br>`);
        //         }
        //     })
        //     .catch((error) => document.write(error));


        //we write this one in also short form like:-
        //Actually when we have one statement then no need to curly braces,only one parameter in arrow function then no need to round braces and we have only one response then no need to return keyword also that's why this code is too short.


        // fetch("content/readme.txt")
        // .then( response => response.text())
        // .then(data => document.write(data));
    </script>

    <script>
        //How to insert form data or file data into the server,Actually we have object data and we not directly send the object data to the server,so first convert the object data into json data then send to the server.And Json stringify convert the object data into json data.

        document.getElementById("saveform").addEventListener("click", function(e) {
             
            e.preventDefault();

            var obj = {

                name: document.getElementById("nametext").value,
                course: document.getElementById("coursetext").value,
                city: document.getElementById("citytext").value,

            };


            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify(obj),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((response) => response.json())
                .then((json) => console.log(json))
                .then(setTimeout(() => {
                    document.location.reload();
                }, 5000));
                
        })

    </script>

    <script>
        //How to update the server data:--

        // var obj = {
        //     id: 1,
        //     title: 'foo',
        //     body: 'bar',
        //     userId: 1,
        // }

        // fetch('https://jsonplaceholder.typicode.com/posts/1', {
        //     method: 'PUT',
        //     body: JSON.stringify(obj),
        //     headers: {
        //         'Content-type': 'application/json; charset=UTF-8',
        //     },
        // })
        //     .then((response) => response.json())
        //     .then((json) => console.log(json));
    </script>

    <script>
        //How to delete the server data:---

        // var obj = {
        //     id: 1,
        //     title: 'foo',
        //     body: 'bar',
        //     userId: 1,
        // }

        // fetch('https://jsonplaceholder.typicode.com/posts/1', {
        //     method: 'DELETE',
        //     body: JSON.stringify(obj),
        //     headers: {
        //         'Content-type': 'application/json; charset=UTF-8',
        //     },
        // })
        //     .then((response) => response.json())
        //     .then((json) => console.log(json));

    </script>
</body>

</html>